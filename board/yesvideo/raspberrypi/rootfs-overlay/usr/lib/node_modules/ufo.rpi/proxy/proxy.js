var express = require('express');
var app = express();

function sendSuccess(res, msg) {
    res.send({data: msg});
}

function sendError(res, msg, status) {
    res.status(status || 400).send({errors: [{detail: msg}]});
}

app.post('/*', function(req, res){
    console.log("post " + req.path + " " + req.query + " " + req.body);
    sendSuccess(res, 'YesVideo UFO');
});

app.get('/storageInfo', function(req, res) {
    console.log("get " + req.path);
    var bytes = 32*1024*1024*1024;
    sendSuccess(res, {
        mounted: true,
        total: bytes,
        used: 0,
        available: bytes
    });
});

app.get('/ping', function(req, res){
    sendSuccess(res, 'YesVideo UFO');
});

app.get('/*', function(req, res){
    console.log("get " + req.path);
    sendSuccess(res, 'YesVideo UFO');
});

var port = 80;
console.log("Listening on port " + port);
app.listen(port);
